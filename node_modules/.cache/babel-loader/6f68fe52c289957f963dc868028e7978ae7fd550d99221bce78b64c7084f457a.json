{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User - 2\\\\Desktop\\\\alg m4\\\\src\\\\components\\\\Favorites\\\\Favorites.js\",\n  _s = $RefreshSig$();\nimport { selectAllFavoriteMovies, selectAllMoviIdList, removeMoviesFromFavorites, addToSaveListId } from '../../store/movieSlice';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useCreateMovieMutation } from '../../services/saveListApi';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Favorites() {\n  _s();\n  const [title, setTitle] = useState('');\n  const [createMovie, {\n    data,\n    isLoading\n  }] = useCreateMovieMutation();\n  // const navigate = useNavigate();\n  const favoritesList = useSelector(selectAllFavoriteMovies);\n  const movies = useSelector(selectAllMoviIdList);\n  const dispatch = useDispatch();\n  const [showLink, setShowLink] = useState(false);\n  const removeFromFavorites = id => {\n    dispatch(removeMoviesFromFavorites(id));\n  };\n  const saveFavorites = async () => {\n    if (title.trim() === '') return alert('Укажите имя списка ');\n    const mylist = {\n      title,\n      movies\n    };\n    const result = await createMovie(mylist);\n    if (result.data) {\n      const id = result.data.id;\n      dispatch(addToSaveListId(id));\n      setShowLink(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"favorites\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\",\n      className: \"favorites__name\",\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"favorites__list\",\n      children: favoritesList === null || favoritesList === void 0 ? void 0 : favoritesList.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.Title, \" (\", item.Year, \") \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeFromFavorites(item.imdbID),\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, item.imdbID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), !showLink ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"myBtn\",\n      type: \"submit\",\n      disabled: isLoading,\n      onClick: () => saveFavorites(),\n      children: isLoading ? 'Creating movie...' : 'Create movie'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Link, {\n      to: `/list/${data.id}`,\n      children: [\"Go to movie list \", title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Favorites, \"Si3au+k43Ha5sAZdIuSqx2ht2FA=\", false, function () {\n  return [useCreateMovieMutation, useSelector, useSelector, useDispatch];\n});\n_c = Favorites;\nexport default Favorites;\nvar _c;\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["selectAllFavoriteMovies","selectAllMoviIdList","removeMoviesFromFavorites","addToSaveListId","React","useState","useDispatch","useSelector","Link","useCreateMovieMutation","jsxDEV","_jsxDEV","Favorites","_s","title","setTitle","createMovie","data","isLoading","favoritesList","movies","dispatch","showLink","setShowLink","removeFromFavorites","id","saveFavorites","trim","alert","mylist","result","className","children","placeholder","onChange","e","target","value","fileName","_jsxFileName","lineNumber","columnNumber","map","item","Title","Year","onClick","imdbID","type","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/User - 2/Desktop/alg m4/src/components/Favorites/Favorites.js"],"sourcesContent":["import {\n  selectAllFavoriteMovies,\n  selectAllMoviIdList,\n  removeMoviesFromFavorites,\n  addToSaveListId\n} from '../../store/movieSlice';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useCreateMovieMutation } from '../../services/saveListApi';\nimport './index.css';\n\nfunction Favorites() {\n\n  const [title, setTitle] = useState('');\n  const [createMovie, { data, isLoading }] = useCreateMovieMutation();\n  // const navigate = useNavigate();\n  const favoritesList = useSelector(selectAllFavoriteMovies);\n  const movies = useSelector(selectAllMoviIdList);\n  const dispatch = useDispatch();\n  const [showLink, setShowLink] = useState(false);\n\n\n  const removeFromFavorites = (id) => {\n    dispatch(removeMoviesFromFavorites(id))\n  }\n\n\n  const saveFavorites = async () => {\n    if (title.trim() === '') return alert('Укажите имя списка ');\n    const mylist = { title, movies }\n    const result = await createMovie(mylist);\n\n    if (result.data) {\n      const id = result.data.id;\n      dispatch(addToSaveListId(id));\n      setShowLink(true);\n    }\n  }\n\n  return (\n    <div className=\"favorites\">\n      <input\n        placeholder=\"Новый список\"\n        className=\"favorites__name\"\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <ul className=\"favorites__list\">\n        {favoritesList?.map((item) => {\n          return (\n            <div key={item.imdbID}>\n              <li >{item.Title} ({item.Year}) <button onClick={() => removeFromFavorites(item.imdbID)}>X</button></li>\n            </div>\n          );\n        })}\n      </ul>\n\n\n      {!showLink ? (\n        <button className='myBtn' type=\"submit\" disabled={isLoading} onClick={() => saveFavorites()}>\n          {isLoading ? 'Creating movie...' : 'Create movie'}\n        </button>\n      ) : (\n        <Link to={`/list/${data.id}`} >Go to movie list {title}</Link>\n      )}\n\n    </div>\n  );\n}\n\nexport default Favorites;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}