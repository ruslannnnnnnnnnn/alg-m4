{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User - 2\\\\Desktop\\\\alg m4\\\\src\\\\components\\\\SearchBox\\\\SearchBox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useGetMoviesMutation } from '../../services/movieApi';\nimport Movies from '../Movies/Movies';\nimport './index.css';\nimport useDebounce from '../../hooks/useDebounce';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SearchBox() {\n  _s();\n  var _data$Search;\n  const [query, setQuery] = useState('');\n  const debounce = useDebounce(query, 1000);\n  const [getMovies, {\n    data\n  }] = useGetMoviesMutation();\n  useEffect(() => {\n    if (debounce.length > 0) fetchMovie();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debounce]);\n  const fetchMovie = async () => {\n    return await getMovies({\n      query: debounce\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"search-box__form\",\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"search-box__form-label\",\n          children: [\"Search movie:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: query,\n            type: \"text\",\n            className: \"search-box__form-input\",\n            placeholder: \"For example, Shawshank Redemption\",\n            onChange: e => setQuery(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"search-box__form-submit\",\n          disabled: !query,\n          children: \"\\u0418\\u0441\\u043A\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: (data === null || data === void 0 ? void 0 : (_data$Search = data.Search) === null || _data$Search === void 0 ? void 0 : _data$Search.length) > 0 && /*#__PURE__*/_jsxDEV(Movies, {\n        ...data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(SearchBox, \"ObgSEwPZA1ZWx1fnNj18N0GtBgw=\", false, function () {\n  return [useDebounce, useGetMoviesMutation];\n});\n_c = SearchBox;\nexport default SearchBox;\nvar _c;\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"names":["React","useEffect","useState","useGetMoviesMutation","Movies","useDebounce","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchBox","_s","_data$Search","query","setQuery","debounce","getMovies","data","length","fetchMovie","children","className","onSubmit","e","preventDefault","value","type","placeholder","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","disabled","Search","_c","$RefreshReg$"],"sources":["C:/Users/User - 2/Desktop/alg m4/src/components/SearchBox/SearchBox.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useGetMoviesMutation } from '../../services/movieApi';\nimport Movies from '../Movies/Movies';\nimport './index.css';\nimport useDebounce from '../../hooks/useDebounce';\n\n\nfunction SearchBox() {\n  const [query, setQuery] = useState('');\n  const debounce = useDebounce(query, 1000);\n  const [getMovies, { data }] = useGetMoviesMutation();\n\n  useEffect(() => {\n    if (debounce.length > 0) fetchMovie();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debounce]);\n\n  const fetchMovie = async () => {\n    return await getMovies({ query: debounce });\n  }\n\n  return (\n    <>\n      <div className=\"search-box\">\n        <form className=\"search-box__form\" onSubmit={(e) => e.preventDefault()}>\n          <label className=\"search-box__form-label\">\n          Search movie:\n            <input\n              value={query}\n              type=\"text\"\n              className=\"search-box__form-input\"\n              placeholder=\"For example, Shawshank Redemption\"\n              onChange={(e) => setQuery(e.target.value)}\n            />\n          </label>\n          <button\n            type=\"submit\"\n            className=\"search-box__form-submit\"\n            disabled={!query}\n          >\n            Искать\n          </button>\n        </form>\n      </div>\n\n      <div>\n        {data?.Search?.length > 0 && <Movies {...data} />}\n\n\n      </div>\n    </>\n  );\n}\n\nexport default SearchBox;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,oBAAoB,QAAQ,yBAAyB;AAC9D,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAO,aAAa;AACpB,OAAOC,WAAW,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGlD,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,YAAA;EACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMa,QAAQ,GAAGV,WAAW,CAACQ,KAAK,EAAE,IAAI,CAAC;EACzC,MAAM,CAACG,SAAS,EAAE;IAAEC;EAAK,CAAC,CAAC,GAAGd,oBAAoB,EAAE;EAEpDF,SAAS,CAAC,MAAM;IACd,IAAIc,QAAQ,CAACG,MAAM,GAAG,CAAC,EAAEC,UAAU,EAAE;IACrC;EACF,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,MAAMI,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,OAAO,MAAMH,SAAS,CAAC;MAAEH,KAAK,EAAEE;IAAS,CAAC,CAAC;EAC7C,CAAC;EAED,oBACER,OAAA,CAAAE,SAAA;IAAAW,QAAA,gBACEb,OAAA;MAAKc,SAAS,EAAC,YAAY;MAAAD,QAAA,eACzBb,OAAA;QAAMc,SAAS,EAAC,kBAAkB;QAACC,QAAQ,EAAGC,CAAC,IAAKA,CAAC,CAACC,cAAc,EAAG;QAAAJ,QAAA,gBACrEb,OAAA;UAAOc,SAAS,EAAC,wBAAwB;UAAAD,QAAA,GAAC,eAExC,eAAAb,OAAA;YACEkB,KAAK,EAAEZ,KAAM;YACba,IAAI,EAAC,MAAM;YACXL,SAAS,EAAC,wBAAwB;YAClCM,WAAW,EAAC,mCAAmC;YAC/CC,QAAQ,EAAGL,CAAC,IAAKT,QAAQ,CAACS,CAAC,CAACM,MAAM,CAACJ,KAAK;UAAE;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAC1C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACI,eACR1B,OAAA;UACEmB,IAAI,EAAC,QAAQ;UACbL,SAAS,EAAC,yBAAyB;UACnCa,QAAQ,EAAE,CAACrB,KAAM;UAAAO,QAAA,EAClB;QAED;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACJ;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACH,eAEN1B,OAAA;MAAAa,QAAA,EACG,CAAAH,IAAI,aAAJA,IAAI,wBAAAL,YAAA,GAAJK,IAAI,CAAEkB,MAAM,cAAAvB,YAAA,uBAAZA,YAAA,CAAcM,MAAM,IAAG,CAAC,iBAAIX,OAAA,CAACH,MAAM;QAAA,GAAKa;MAAI;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAG7C;EAAA,gBACL;AAEP;AAACtB,EAAA,CA7CQD,SAAS;EAAA,QAECL,WAAW,EACEF,oBAAoB;AAAA;AAAAiC,EAAA,GAH3C1B,SAAS;AA+ClB,eAAeA,SAAS;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}